# Era 8: DeFi Summer (2020)

## Overview

2020 was crypto's inflection point. What had been a small ecosystem of experimental protocols exploded into a multi-billion dollar financial system in a matter of months. "DeFi Summer" saw TVL grow from ~$1 billion to $15 billion, driven by liquidity mining, yield farming, and composability.

This era crystallized the key DeFi primitives: automated market makers, lending protocols, yield aggregators, and governance tokens. It also stress-tested Ethereum's capacity, driving gas prices to levels that accelerated L2 development.

---

## Key Developments

### June 2020: COMP Launch & Liquidity Mining

On June 15, 2020, **Compound** began distributing COMP governance tokens to users who supplied or borrowed assets. This "liquidity mining" created a recursive loop: deposit assets → earn COMP → COMP has value → deposit more.

The mechanics were simple but powerful:
```
1. Supply USDC to Compound
2. Earn interest + COMP tokens
3. COMP can be sold or used for governance
4. Effective APY includes token rewards
```

COMP's launch sparked the DeFi Summer frenzy. Projects rushed to implement similar token distributions.

### August 2020: Yield Farming Mania

**Yam Finance** launched on August 11, 2020, offering astronomical yields. Despite a critical bug discovered within 48 hours, Yam demonstrated DeFi's viral potential. "Food tokens" (Yam, Sushi, Pickle, Cream) proliferated.

Yield farming strategies became increasingly complex:
```
1. Deposit ETH to Compound, receive cETH
2. Use cETH as collateral on Maker, mint DAI
3. Deposit DAI to Curve, receive LP tokens
4. Stake LP tokens in Curve gauge, earn CRV
5. Stake CRV as veCRV for boosted rewards
```

This **composability**—combining protocols like "money legos"—is DeFi's defining characteristic.

### March-September 2020: Uniswap V2

**Uniswap V2** launched in May 2020, introducing: [@whitepaper_uniswap_v2_2020]

- **ERC-20/ERC-20 pairs**: No more ETH requirement
- **Flash swaps**: Borrow pool assets within a single transaction
- **Price oracles**: Time-weighted average prices (TWAP)

These features expanded AMM utility far beyond simple swaps. Flash swaps enabled arbitrage without capital. TWAP oracles provided manipulation-resistant price feeds.

### January 2020: Curve Finance

**Curve** launched with a specialized invariant for stablecoin swaps. [@whitepaper_curve_stableswap_2020]

The **StableSwap** formula reduces slippage when swapping between like-assets (USDC ↔ DAI ↔ USDT). Traditional x*y=k has significant slippage even for assets that should trade 1:1.

Curve's innovation:
```
StableSwap combines:
- Constant product (x*y=k) for divergent prices
- Constant sum (x+y=k) for near-peg prices
- Smooth transition between them
```

This enabled efficient stablecoin trading and established Curve as critical DeFi infrastructure.

### September 2020: SushiSwap & Vampire Attacks

**SushiSwap** forked Uniswap's code and added a SUSHI governance token. Then came the "vampire attack":

1. SUSHI tokens distributed to Uniswap LPs who staked LP tokens
2. After accumulating liquidity, SushiSwap migrated it to their own contracts
3. ~$800M in liquidity moved from Uniswap to SushiSwap

The vampire attack demonstrated both DeFi's permissionless nature (anyone can fork) and the power of token incentives to redirect liquidity.

Uniswap responded months later with the UNI token airdrop—one of crypto's largest wealth transfers.

---

## AMM Evolution & Attribution

DeFi Summer brought AMM attribution questions into focus.

### The Lineage

```
Hanson LMSR (2003)
    ↓
Academic market makers for prediction markets
    ↓
Gnosis prediction markets (2015-2017)
    ↓
Bancor bonding curves (June 2017)
    ↓
Uniswap constant product (November 2018)
    ↓
Curve StableSwap (January 2020)
    ↓
Balancer weighted pools (2020)
```

### Common Misattributions

**"Uniswap invented AMMs"**

Reality: Automated market makers existed in prediction markets (Hanson's LMSR, 2003) and on-chain (Bancor, 2017) before Uniswap. Uniswap's contribution was radical **simplification**, not invention. The constant product formula (x*y=k) may have academic precursors. [@article_hanson_lmsr_2003; @whitepaper_bancor_2017]

**"Hayden Adams invented x*y=k"**

Reality: Adams has credited a Vitalik Buterin Reddit post as inspiration. The formula is simple enough to be independently discovered. The innovation was implementation and UX, not necessarily the math itself.

**Confidence**: MEDIUM — The direct intellectual lineage from academic AMM research to Uniswap remains unclear.

---

## The Gas Crisis

DeFi Summer stress-tested Ethereum's capacity. Gas prices regularly exceeded 500 gwei. A simple Uniswap swap cost $50-100 at peak times.

This revealed:
- **Scalability limits**: Ethereum mainnet couldn't handle DeFi demand
- **User friction**: High gas prices excluded smaller users
- **MEV explosion**: Arbitrage and frontrunning intensified

The gas crisis accelerated L2 development and eventually EIP-1559.

---

## Key Figures

### Robert Leshner

Compound founder. Leshner's COMP distribution model created the liquidity mining template that defined DeFi Summer.

### Hayden Adams

Uniswap creator. Adams built Uniswap V1 after losing his job at Siemens. V2 launched during DeFi Summer, solidifying Uniswap's dominance.

### Michael Egorov

Curve founder. Egorov, a physicist, designed the StableSwap invariant that made efficient stablecoin trading possible.

### Andre Cronje

Yearn Finance creator. Cronje built yield aggregation tools and became DeFi's most prolific builder, later creating Solidly and the ve(3,3) model.

### Chef Nomi

Anonymous SushiSwap creator. Nomi executed the vampire attack, then controversially sold SUSHI tokens before returning the funds under community pressure.

---

## Protocol TVL Timeline

| Month | Approx Total DeFi TVL | Key Events |
|-------|----------------------|------------|
| Jan 2020 | ~$700M | Pre-Summer |
| Jun 2020 | ~$1B | COMP launch |
| Jul 2020 | ~$2B | Yield farming begins |
| Aug 2020 | ~$4B | Food tokens, Yam |
| Sep 2020 | ~$8B | SushiSwap, UNI airdrop |
| Oct 2020 | ~$11B | Continued growth |
| Dec 2020 | ~$15B | Year-end |

---

## Lessons Learned

### What Worked

1. **Composability**: Protocols building on each other created network effects
2. **Token incentives**: Liquidity mining bootstrapped adoption
3. **Open source**: Forkability drove rapid innovation
4. **Permissionless**: Anyone could participate as user or builder

### What Struggled

1. **Gas costs**: Priced out smaller users
2. **Smart contract risk**: Bugs and exploits proliferated
3. **Unsustainable yields**: High APYs were inflationary, not profitable
4. **MEV extraction**: Frontrunning and sandwiching became endemic

### Attribution Insights

DeFi Summer demonstrated that:
- **Popularizers often get credit for invention** (Uniswap vs. Bancor)
- **Simplicity beats complexity** (Uniswap's x*y=k vs. Bancor's bonding curves)
- **Token incentives accelerate adoption but may not be sustainable**
- **Academic precursors exist but are often unknown to practitioners**

---

## EVM Relevance Summary

DeFi Summer established patterns still central to EVM development:

| Pattern | Example | Lasting Impact |
|---------|---------|----------------|
| AMM design | Uniswap, Curve | Core DeFi primitive |
| Liquidity mining | COMP | Token distribution model |
| Composability | Yearn vaults | "Money legos" architecture |
| Governance tokens | UNI, CRV | Protocol ownership model |
| Gas optimization | Needed for high fees | Drives L2 development |

---

## Primitive Cross-Links

- [AMM Constant Product](../../primitives/amm_constant_product.md)
- [Fee Markets & EIP-1559](../../primitives/fee_markets_eip1559.md)
- [MEV & Auctions](../../primitives/mev_and_auctions.md)
- [Stablecoins & Collateral](../../primitives/stablecoins_and_collateral.md)

---

## Citations

[@whitepaper_uniswap_v2_2020]
[@whitepaper_curve_stableswap_2020]
[@article_hanson_lmsr_2003]
[@whitepaper_bancor_2017]
[@online_compound_whitepaper_2019]
