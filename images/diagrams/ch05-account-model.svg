<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FAFBFC"/>
      <stop offset="100%" style="stop-color:#F0F4F8"/>
    </linearGradient>
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-opacity="0.1"/>
    </filter>
    <linearGradient id="eoaGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#627EEA"/>
      <stop offset="100%" style="stop-color:#4B6DD0"/>
    </linearGradient>
    <linearGradient id="contractGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6"/>
      <stop offset="100%" style="stop-color:#7C3AED"/>
    </linearGradient>
    <linearGradient id="hdGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3AB83A"/>
      <stop offset="100%" style="stop-color:#2D8F2D"/>
    </linearGradient>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#627EEA"/>
    </marker>
  </defs>

  <rect width="100%" height="100%" fill="url(#bgGradient)"/>
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#E5E7EB" stroke-width="0.5"/>
  </pattern>
  <rect width="100%" height="100%" fill="url(#grid)" opacity="0.4"/>

  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1a1a3a">Ethereum Account Model</text>
  <text x="400" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#6B7280">Two account types, one unified address space</text>

  <!-- EOA Section (Left) -->
  <g transform="translate(200, 180)" filter="url(#dropShadow)">
    <rect x="-150" y="-100" width="300" height="45" rx="10" fill="url(#eoaGradient)"/>
    <text y="-70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FFF">Externally Owned Account (EOA)</text>

    <rect x="-150" y="-50" width="300" height="180" rx="10" fill="#FFF" stroke="#627EEA" stroke-width="2"/>

    <!-- EOA Properties -->
    <text y="-25" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#374151">Controlled by Private Key</text>

    <g transform="translate(0, 0)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#EEF2FF"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#4338CA">balance: uint256</text>
    </g>
    <g transform="translate(0, 35)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#EEF2FF"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#4338CA">nonce: uint256</text>
    </g>
    <g transform="translate(0, 70)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#F3F4F6"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#6B7280">code: empty</text>
    </g>
    <g transform="translate(0, 105)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#F3F4F6"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#6B7280">storage: empty</text>
    </g>
  </g>

  <!-- Contract Section (Right) -->
  <g transform="translate(600, 180)" filter="url(#dropShadow)">
    <rect x="-150" y="-100" width="300" height="45" rx="10" fill="url(#contractGradient)"/>
    <text y="-70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FFF">Contract Account</text>

    <rect x="-150" y="-50" width="300" height="180" rx="10" fill="#FFF" stroke="#8B5CF6" stroke-width="2"/>

    <!-- Contract Properties -->
    <text y="-25" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#374151">Controlled by Code Logic</text>

    <g transform="translate(0, 0)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#EDE9FE"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#6D28D9">balance: uint256</text>
    </g>
    <g transform="translate(0, 35)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#EDE9FE"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#6D28D9">nonce: uint256 (contracts created)</text>
    </g>
    <g transform="translate(0, 70)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#DDD6FE"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#6D28D9">code: bytes (immutable)</text>
    </g>
    <g transform="translate(0, 105)">
      <rect x="-130" y="-8" width="260" height="28" rx="4" fill="#DDD6FE"/>
      <text x="-120" y="12" font-family="monospace" font-size="10" fill="#6D28D9">storage: mapping(uint256 â†’ uint256)</text>
    </g>
  </g>

  <!-- Interaction Arrow -->
  <line x1="350" y1="180" x2="450" y2="180" stroke="#627EEA" stroke-width="2" marker-end="url(#arrowBlue)"/>
  <text x="400" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#627EEA">calls / sends</text>

  <!-- HD Wallet Tree (Bottom) -->
  <g transform="translate(400, 420)" filter="url(#dropShadow)">
    <rect x="-350" y="-55" width="700" height="110" rx="10" fill="#FFF" stroke="#3AB83A" stroke-width="2"/>

    <text x="-320" y="-30" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#166534">HD Wallet Derivation (BIP-44)</text>

    <!-- Seed -->
    <g transform="translate(-250, 10)">
      <rect x="-40" y="-15" width="80" height="30" rx="4" fill="url(#hdGradient)"/>
      <text y="5" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#FFF">Seed</text>
    </g>

    <!-- Arrow -->
    <line x1="-170" y1="10" x2="-130" y2="10" stroke="#3AB83A" stroke-width="1.5" marker-end="url(#arrowBlue)"/>

    <!-- Master Key -->
    <g transform="translate(-80, 10)">
      <rect x="-45" y="-15" width="90" height="30" rx="4" fill="#D1FAE5" stroke="#3AB83A"/>
      <text y="5" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#166534">Master Key</text>
    </g>

    <!-- Arrow -->
    <line x1="10" y1="10" x2="50" y2="10" stroke="#3AB83A" stroke-width="1.5"/>

    <!-- Path -->
    <g transform="translate(120, 10)">
      <rect x="-60" y="-15" width="120" height="30" rx="4" fill="#ECFDF5" stroke="#3AB83A"/>
      <text y="5" text-anchor="middle" font-family="monospace" font-size="8" fill="#166534">m/44'/60'/0'/0</text>
    </g>

    <!-- Derived Accounts -->
    <line x1="190" y1="10" x2="220" y2="-10" stroke="#3AB83A" stroke-width="1.5"/>
    <line x1="190" y1="10" x2="220" y2="10" stroke="#3AB83A" stroke-width="1.5"/>
    <line x1="190" y1="10" x2="220" y2="30" stroke="#3AB83A" stroke-width="1.5"/>

    <g transform="translate(275, -10)">
      <rect x="-45" y="-12" width="90" height="24" rx="3" fill="#EEF2FF" stroke="#627EEA"/>
      <text y="4" text-anchor="middle" font-family="monospace" font-size="7" fill="#4338CA">0x71C7...</text>
    </g>
    <g transform="translate(275, 10)">
      <rect x="-45" y="-12" width="90" height="24" rx="3" fill="#EEF2FF" stroke="#627EEA"/>
      <text y="4" text-anchor="middle" font-family="monospace" font-size="7" fill="#4338CA">0x8B3F...</text>
    </g>
    <g transform="translate(275, 30)">
      <rect x="-45" y="-12" width="90" height="24" rx="3" fill="#EEF2FF" stroke="#627EEA"/>
      <text y="4" text-anchor="middle" font-family="monospace" font-size="7" fill="#4338CA">0xA92D...</text>
    </g>

    <text x="275" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">index 0, 1, 2...</text>
  </g>

  <!-- Key differences callout -->
  <g transform="translate(400, 345)">
    <rect x="-180" y="-18" width="360" height="36" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1"/>
    <text y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#92400E">EOAs initiate transactions. Contracts only execute when called.</text>
    <text y="14" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#B45309">Every transaction must originate from an EOA (or use ERC-4337 account abstraction).</text>
  </g>
</svg>
