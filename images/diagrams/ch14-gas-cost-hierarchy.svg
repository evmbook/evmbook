<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FAFBFC"/>
      <stop offset="100%" style="stop-color:#F0F4F8"/>
    </linearGradient>
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-opacity="0.1"/>
    </filter>
    <linearGradient id="storageGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#EF4444"/>
      <stop offset="100%" style="stop-color:#DC2626"/>
    </linearGradient>
    <linearGradient id="memoryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B"/>
      <stop offset="100%" style="stop-color:#D97706"/>
    </linearGradient>
    <linearGradient id="calldataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#627EEA"/>
      <stop offset="100%" style="stop-color:#4B6DD0"/>
    </linearGradient>
    <linearGradient id="stackGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3AB83A"/>
      <stop offset="100%" style="stop-color:#2D8F2D"/>
    </linearGradient>
  </defs>

  <rect width="100%" height="100%" fill="url(#bgGradient)"/>
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#E5E7EB" stroke-width="0.5"/>
  </pattern>
  <rect width="100%" height="100%" fill="url(#grid)" opacity="0.4"/>

  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1a1a3a">EVM Gas Cost Hierarchy</text>
  <text x="400" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#6B7280">Storage dominates cost; optimize from the bottom up</text>

  <!-- Cost scale label -->
  <text x="80" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#374151">COST</text>
  <line x1="80" y1="100" x2="80" y2="400" stroke="#374151" stroke-width="2"/>
  <polygon points="80,400 75,390 85,390" fill="#374151"/>
  <text x="80" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">Increasing gas</text>

  <!-- Storage (Most expensive) -->
  <g transform="translate(400, 130)" filter="url(#dropShadow)">
    <rect x="-250" y="-35" width="500" height="70" rx="10" fill="url(#storageGradient)"/>
    <text x="-220" y="-8" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FFF">STORAGE (SSTORE/SLOAD)</text>
    <text x="-220" y="12" font-family="Arial, sans-serif" font-size="10" fill="#FECACA">Persistent state - survives between transactions</text>

    <g transform="translate(100, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">Cold SLOAD</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">2,100 gas</text>
    </g>
    <g transform="translate(200, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">New SSTORE</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">20,000 gas</text>
    </g>
  </g>

  <!-- Memory (Moderate) -->
  <g transform="translate(400, 220)" filter="url(#dropShadow)">
    <rect x="-250" y="-35" width="500" height="70" rx="10" fill="url(#memoryGradient)"/>
    <text x="-220" y="-8" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FFF">MEMORY (MLOAD/MSTORE)</text>
    <text x="-220" y="12" font-family="Arial, sans-serif" font-size="10" fill="#FEF3C7">Volatile - cleared after transaction</text>

    <g transform="translate(100, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">MLOAD</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">3 gas</text>
    </g>
    <g transform="translate(200, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">Expansion</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">O(nÂ²)</text>
    </g>
  </g>

  <!-- Calldata (Cheap) -->
  <g transform="translate(400, 310)" filter="url(#dropShadow)">
    <rect x="-250" y="-35" width="500" height="70" rx="10" fill="url(#calldataGradient)"/>
    <text x="-220" y="-8" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FFF">CALLDATA (read-only)</text>
    <text x="-220" y="12" font-family="Arial, sans-serif" font-size="10" fill="#C7D2FE">Input data - immutable during execution</text>

    <g transform="translate(100, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">Non-zero byte</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">16 gas</text>
    </g>
    <g transform="translate(200, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">Zero byte</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">4 gas</text>
    </g>
  </g>

  <!-- Stack (Cheapest) -->
  <g transform="translate(400, 400)" filter="url(#dropShadow)">
    <rect x="-250" y="-35" width="500" height="70" rx="10" fill="url(#stackGradient)"/>
    <text x="-220" y="-8" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FFF">STACK (PUSH/POP/DUP/SWAP)</text>
    <text x="-220" y="12" font-family="Arial, sans-serif" font-size="10" fill="#D1FAE5">Temporary computation - 1024 slots max</text>

    <g transform="translate(100, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">PUSH1</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">3 gas</text>
    </g>
    <g transform="translate(200, 0)">
      <rect x="-55" y="-22" width="110" height="44" rx="6" fill="#FFF" fill-opacity="0.2"/>
      <text y="-5" text-anchor="middle" font-family="monospace" font-size="9" fill="#FFF">DUP/SWAP</text>
      <text y="12" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#FFF">3 gas</text>
    </g>
  </g>

  <!-- Optimization tips -->
  <g transform="translate(720, 250)" filter="url(#dropShadow)">
    <rect x="-55" y="-130" width="110" height="260" rx="8" fill="#FFF" stroke="#E5E7EB"/>
    <text y="-110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#374151">Optimize</text>

    <text y="-85" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#EF4444">Pack storage</text>
    <text y="-72" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">Multiple vars</text>
    <text y="-60" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">in one slot</text>

    <text y="-35" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#F59E0B">Cache reads</text>
    <text y="-22" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">Read once to</text>
    <text y="-10" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">local variable</text>

    <text y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#627EEA">Use calldata</text>
    <text y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">For function</text>
    <text y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">params</text>

    <text y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#3AB83A">Use unchecked</text>
    <text y="78" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">When overflow</text>
    <text y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">is impossible</text>

    <text y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#8B5CF6">Use transient</text>
    <text y="128" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6B7280">TSTORE/TLOAD</text>
  </g>
</svg>
